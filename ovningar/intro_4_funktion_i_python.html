
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Intro 4: Funktionsanpassning i Python &#8212; Fysik</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://opendata-education.github.io/se_Fysik/intro.html/ovningar/intro_4_funktion_i_python.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Att anpassa en funktion till ett diagram" href="anpassa_funktion.html" />
    <link rel="prev" title="Intro 3: Diagram i Python" href="intro_3_diagram_i_python.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Fysik</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Välkommen att använda Open Data
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Övningar
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro_1_jupyter_python.html">
   Intro 1: Använd Jupyter Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="intro_2_statistik_i_python.html">
   Intro 2: Statistik i Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="intro_3_diagram_i_python.html">
   Intro 3: Diagram i Python
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Intro 4: Funktionsanpassning i Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="anpassa_funktion.html">
   Att anpassa en funktion till ett diagram
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Statistikber%C3%A4kningar.html">
   Statistiska beräkningar med CMS’ data.
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cms-exempel.html">
   CMS och Open Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Animationsexempel.html">
   Exempel på animation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Kartlagga_himlen.html">
   Att kartlägga stjärnhimlen - Vad finns ovanför oss?
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/ovningar/intro_4_funktion_i_python.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/opendata-education/se_Fysik"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/opendata-education/se_Fysik/issues/new?title=Issue%20on%20page%20%2Fovningar/intro_4_funktion_i_python.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/opendata-education/se_Fysik/main?urlpath=tree/material/ovningar/intro_4_funktion_i_python.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funktionsanpassning">
   Funktionsanpassning
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="intro-4-funktionsanpassning-i-python">
<h1>Intro 4: Funktionsanpassning i Python<a class="headerlink" href="#intro-4-funktionsanpassning-i-python" title="Permalink to this headline">¶</a></h1>
<p>I denna notebook ska vi bekanta oss med <em>funktionsanpassning</em>, ett mycket viktigt användningsområde för programmering inom fysiken. Vi kommer här att använda oss av <em>linjär regression</em> - anpassning av en förstagradsfunktion till givna datapunkter. En mer avancerad anpassning görs i dokumentet <em>“Att anpassa en funktion till ett diagram”</em>, som också hittas i denna Jupyter Book.</p>
<p>Vi börjar med att importera de viktiga paketen <strong>matplotlib.pyplot</strong> och <strong>numpy</strong>. Vi kommer också senare att använda en funktion från <strong>scipy</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1"># matplotlib.pyplot innehåller verktyg för att rita grafer och diagram.</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>               
</pre></div>
</div>
</div>
</div>
<div class="section" id="funktionsanpassning">
<h2>Funktionsanpassning<a class="headerlink" href="#funktionsanpassning" title="Permalink to this headline">¶</a></h2>
<p>När vi utför fysikaliska experiment vill vi ofta jämföra våra resultat med en teoretisk modell. Funktionsanpassningen är ett sätt för oss att se hur bra den teoretiska modellen följs.</p>
<p>Som exempel kan vi tänka oss ett experiment som är typiskt för gymnasiets första fysikkurs. Eleverna blir tilldelade varierande järnföremål (vikter, bultar och muttrar, t.ex.), och uppgiften är att bestämma densiteten för järn.</p>
<a class="reference internal image-reference" href="../_images/nutsnbolts.PNG"><img alt="../_images/nutsnbolts.PNG" src="../_images/nutsnbolts.PNG" style="width: 300px;" /></a>
<p>Eleverna väger föremålen noga, och uppskattar föremålens volym genom geometriska beräkningar eller experimentellt genom att sänka dem i vatten (Arkimedes princip). Uppgiften är sedan att sammanställa resultaten i ett diagram och se det linjära sambandet. Vi tar en titt på detta diagram:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mätresultat:</span>

<span class="c1"># Volym i cm3</span>
<span class="n">volymer</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.2</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">8.3</span><span class="p">,</span> <span class="mf">4.4</span><span class="p">]</span>
<span class="c1"># Vikt i gram</span>
<span class="n">vikter</span> <span class="o">=</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">35</span><span class="p">]</span>


                                                       <span class="c1"># Vi använder matplotlib.pyplot (plt) för att rita ett diagram.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">volymer</span><span class="p">,</span> <span class="n">vikter</span><span class="p">)</span>                           <span class="c1"># plt.scatter(x, y) ritar ut punkter utgående från listorna.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Mätresultat från densitetexperimentet FY1&quot;</span><span class="p">)</span> <span class="c1"># plt.title ger en rubrik</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Föremålens volym ($cm^3$)&quot;</span><span class="p">)</span>                <span class="c1"># plt.xlabel/ylabel ger förklaringar till axlarna.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Föremålens massa (g)&quot;</span><span class="p">)</span>                      <span class="c1"># Man kan använda $$-tecken för att avgränsa LaTeX-uttryck</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>                                             <span class="c1"># plt.grid lägger till ett rutnät</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>     
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/intro_4_funktion_i_python_5_0.png" src="../_images/intro_4_funktion_i_python_5_0.png" />
</div>
</div>
<p>Vi har mätresultaten i ett diagram, och vi ser att storheterna rimligen har ett linjärt förhållande. Genom att anpassa en linje och beräkna linjens riktningskoefficient får vi reda på densiteten för järn.</p>
<div class="math notranslate nohighlight">
\[ \rho = \frac{\Delta m}{\Delta V}\]</div>
<a class="reference internal image-reference" href="ovningar/files/densitet.PNG"><img alt="ovningar/files/densitet.PNG" src="ovningar/files/densitet.PNG" style="width: 300px;" /></a>
<p>I de första fysikkurserna anpassas den linjen ofta med ögonmått - uppskattad med linjal. Åtminstone gjorde man så innan GeoGebra och CAS-räknare blev allmänt använda och innan kursmaterialet var digitalt. Den noggrannheten är duglig i grundkurser, men självklart kommer resultaten att variera lite, och en mer exakt metod är viktig att känna till.</p>
<p>Med hjälp av programmering kan vi optimera anpassningen. Ett sätt att göra detta är att använda <strong>scipy.stats.linregress</strong>. Den funktionen anpassar en linje till de givna punkterna.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">linregress</span>

<span class="n">optimering</span> <span class="o">=</span> <span class="n">linregress</span><span class="p">(</span><span class="n">volymer</span><span class="p">,</span><span class="n">vikter</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">optimering</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>LinregressResult(slope=7.588479595521847, intercept=1.1199891657638261, rvalue=0.9982889345678648, pvalue=8.494196166006045e-05, stderr=0.2566258120358384, intercept_stderr=1.359148059504795)
</pre></div>
</div>
</div>
</div>
<p>Bland resultaten ser vi</p>
<ul class="simple">
<li><p><strong>slope</strong> (riktningskoefficient) = 7.588</p></li>
<li><p><strong>intercept</strong> (skärningspunkt med y-axeln) = 1.120</p></li>
</ul>
<p>Linjens ekvation är alltså <span class="math notranslate nohighlight">\(7.588\cdot x + 1.120\)</span>, och <span class="math notranslate nohighlight">\(7.588 \ g/{cm}^3\)</span> är den beräknade densiteten för järn.</p>
<p>Vi ritar in den linjen i samma koordinatsystem för att jämföra.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>   <span class="c1"># vi skapar en lista med 100 x-värden mellan 2 och 9</span>
<span class="n">y</span> <span class="o">=</span> <span class="mf">7.588</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mf">1.120</span>          <span class="c1"># vi skapar en lista med y-värden enligt den erhållna funktionen</span>

<span class="c1"># Vi ritar ut linjen med hjälp av plt.plot, och sedan upprepar vi alla kommandon som vi använde till den förra grafen.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">volymer</span><span class="p">,</span> <span class="n">vikter</span><span class="p">)</span>                           <span class="c1"># plt.scatter(x, y) ritar ut punkter utgående från listorna.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Mätresultat från densitetexperimentet FY1&quot;</span><span class="p">)</span> <span class="c1"># plt.title ger en rubrik</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Föremålens volym ($cm^3$)&quot;</span><span class="p">)</span>                <span class="c1"># plt.xlabel/ylabel ger förklaringar till axlarna.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Föremålens massa (g)&quot;</span><span class="p">)</span>                      <span class="c1"># Man kan använda $$-tecken för att avgränsa LaTeX-uttryck</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span> 

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/intro_4_funktion_i_python_9_0.png" src="../_images/intro_4_funktion_i_python_9_0.png" />
</div>
</div>
<p>Nu har vi anpassat en linje - inte genom uppskattning, utan genom <a class="reference external" href="https://sv.wikipedia.org/wiki/Minstakvadratmetoden">minstakvadratmetoden</a>. Vi har också en beskrivande graf som visar den anpassade linjen tillsammans med datapunkterna.
Du kan själv testa att anpassa en linje till ett eget set av datapunkter med samma metod som ovan, eller gå vidare till nästa nivå och se på hur vi kan anpassa en mer invecklad funktion till mätresultat. (Se dokumentet <em>Att anpassa en funktion till ett diagram</em>)</p>
<p>Lycka till!</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./ovningar"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="intro_3_diagram_i_python.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Intro 3: Diagram i Python</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="anpassa_funktion.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Att anpassa en funktion till ett diagram</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By HIP Education and Open Data Team<br/>
        
          <div class="extra_footer">
            <div>
<a>Materialet utvecklas med stöd av utbildningsstyrelsen.</a></br><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> Tämän sivuston materiaali on käytettävissä seuraavalla lisenssillä: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY 4.0.</a>
</div>    

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>